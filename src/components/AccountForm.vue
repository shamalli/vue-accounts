<template>
  <div>
    <h2 class="">–£—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏</h2>
    <button @click="addAccount" class="">+</button>
    <p class="">
      –î–ª—è —É–∫–∞–∑–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Ç–æ–∫ –¥–ª—è –æ–¥–Ω–æ–π –ø–∞—Ä—ã –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ;
    </p>

    <div
      v-for="(account, index) in accounts"
      :key="account.id"
      class="">
      <!-- –ú–µ—Ç–∫–∞ -->
      <input
        class=""
        placeholder="–ú–µ—Ç–∫–∏"
        :value="account.labels.map(l => l.text).join('; ')"
      />

      <!-- –¢–∏–ø –∑–∞–ø–∏—Å–∏ -->
      <select
        class=""
        v-model="account.type"
      >
        <option value="–õ–æ–∫–∞–ª—å–Ω–∞—è">–õ–æ–∫–∞–ª—å–Ω–∞—è</option>
        <option value="LDAP">LDAP</option>
      </select>

      <!-- –õ–æ–≥–∏–Ω -->
      <input
        class=""
        placeholder="–õ–æ–≥–∏–Ω"
        v-model="account.login"
      />

      <!-- –ü–∞—Ä–æ–ª—å -->
      <input
        v-if="account.type === '–õ–æ–∫–∞–ª—å–Ω–∞—è'"
        type="password"
        class=""
        placeholder="–ü–∞—Ä–æ–ª—å"
        v-model="account.password"
      />

      <!-- –£–¥–∞–ª–µ–Ω–∏–µ -->
      <button @click="removeAccount(account.id)" class="">üóëÔ∏è</button>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useAccountsStore } from '@/stores/useAccountsStore'
import type { Account } from '@/types/Account'

const { accounts, addAccount, removeAccount } = useAccountsStore()

</script>

